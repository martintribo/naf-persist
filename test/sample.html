<html>
    <head>
        <meta charset="UTF-8">
        <script src="https://unpkg.com/pouchdb@6.3.4/dist/pouchdb.js"></script>
        <script src="https://aframe.io/releases/0.7.0/aframe.min.js"></script>
        <script src="/build/bundle.js"></script>
        <!-- <script type="module" src="../src/index.js" async=false></script> -->
        <script>
            function getOffset() {
                return (Math.random() * 4) - 2;
            }
            AFRAME.registerComponent('colorchanger', {
                init: function () {
                    document.addEventListener('mousedown',  () => {
                        var colors = [
                            'red',
                            'green',
                            'magenta',
                            'violet',
                            'blue',
                            'pink'
                        ];
                        var color = colors[Math.floor(Math.random() * colors.length)];
                        this.el.setAttribute('color', color);

                        // var position = getOffset() + ' ' + 0.5 + ' ' + getOffset();
                        this.el.setAttribute('position', {
                            x: getOffset(),
                            y: 0.5,
                            z: getOffset() - 4
                        });
                    });
                }
            });
        </script>
    </head>
    <body>
        <a-scene naf-persist>
            <a-box naf-persist="persistId: foo1" colorchanger position="-1 0.5 -3" rotation="0 45 0" color="#4CC3D9"></a-box>
            <a-sphere naf-persist color="red" colorchanger position="0 1.25 -5" radius="1"></a-sphere>
            <!-- <a-cylinder position="1 0.75 -3" radius="0.5" height="1.5" color="#FFC65D"></a-cylinder> -->
            <a-plane position="0 0 -4" rotation="-90 0 0" width="4" height="4" color="#7BC8A4"></a-plane>
            <a-sky color="black"></a-sky>
        </a-scene>
    </body>
</html>